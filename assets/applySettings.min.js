var d=document,months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],today=new Date,username=settings.username;1==settings.useGreeting&&greeting(today,username),1==settings.useDateLinkCalendar&&(d.getElementById("date").href=settings.calendarLink,d.getElementById("date").classList.remove("isDisabled")),window.onload=function(){if(1==settings.openNewTab)for(var e=d.getElementsByTagName("a"),t=0;t<e.length;t++)e[t].setAttribute("target","_blank")};var accentColor=settings.accentColor,mainColor=settings.mainColor,css=".accentHover a:hover{color:"+accentColor+"}";css+="*::selection{background-color:"+accentColor+"}",css+="div#search input:focus{border-bottom:3px solid "+accentColor+"}",css+="*,a{color: "+mainColor+"}",css+="#time{border-bottom:2px solid "+mainColor+"}",css+="div#search input{border-bottom: 3px solid "+mainColor+"}",css+="body {background-image: url("+settings.backgroundImage+"); background-position:"+settings.backgroundPosition+"}";var head=d.head||d.getElementsByTagName("head")[0],style=d.createElement("style");style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(d.createTextNode(css)),head.appendChild(style);for(var grid=d.getElementById("linkContainer"),i=0;i<links.length;i++){var group=links[i],ul=d.createElement("ul");ul.setAttribute("id","group"+i),ul.className="group grid-item accentHover",grid.appendChild(ul),ul.innerHTML="<h2>"+group.title+"</h2>";for(var j=0;j<group.links.length;j++){var li=d.createElement("li"),item=group.links[j];li.innerHTML="<li><a href='"+item.link+"'>"+item.text+"</a></li>",ul.appendChild(li)}}function startTime(){var e=today.getHours(),t=today.getMinutes();t=addLeadingZero(t),e=addLeadingZero(e),d.getElementById("time").innerHTML=e+":"+t;setTimeout(function(){startTime()},1e3)}function addLeadingZero(e){return e<10&&(e="0"+e),e}startTime();var theDate=days[today.getDay()]+" "+today.getDate()+". "+months[today.getMonth()]+" "+today.getFullYear();function greeting(e,t){var n,o=e.getHours(),a=d.getElementById("greeting");n=o>=5&&o<=11?"Goodmorning "+t:12==o?"Hi there "+t:o>=13&&o<=17?"Good afternoon "+t:o>=18&&o<=20?"Good evening "+t:o>=21&&o<=23?"Good night "+t:"Pulling an allnighter "+t+"?",a.innerHTML=n}d.getElementById("date").innerHTML=theDate;var elem=d.querySelector(".grid"),msnry=new Masonry(elem,{itemSelector:".grid-item"}),input=d.getElementById("searchInput");function searchWeb(e){if("!yt"==e.substring(0,3)){var t=e.substring(4).replace(" ","+");window.location.href="https://youtube.com/results?search_query="+t}else window.location.href="https://google.com/search?q="+e}input.addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&searchWeb(input.value)});